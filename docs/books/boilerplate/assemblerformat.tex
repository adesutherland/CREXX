
%% \lstdefinelanguage
%%    {x64Assembler}     % add a "x64" dialect of Assembler
%%    [x86masm]{Assembler} % based on the "x86masm" dialect
%%    % with these extra keywords:
%%    {morekeywords={CDQE,CQO,CMPSQ,CMPXCHG16B,JRCXZ,LODSQ,MOVSXD, %
%%                   POPFQ,PUSHFQ,SCASQ,STOSQ,IRETQ,RDTSCP,SWAPGS, %
%%                   rax,rdx,rcx,rbx,rsi,rdi,rsp,rbp, %
%%                   r8,r8d,r8w,r8b,r9,r9d,r9w,r9b, %
%%                   r10,r10d,r10w,r10b,r11,r11d,r11w,r11b, %
%%                   r12,r12d,r12w,r12b,r13,r13d,r13w,r13b, %
%%                   r14,r14d,r14w,r14b,r15,r15d,r15w,r15b}} % etc.

%% \lstset{language=x64Assembler}

\lstdefinelanguage
  [x86]{Assembler}%
  {moreemph=[3]{al,ah,ax,eax,bl,bh,bx,ebx,cl,ch,cx,ecx,dl,dh,dx,edx,%
      si,esi,di,edi,bp,ebp,sp,esp,cs,ds,es,ss,fs,gs,cr0,cr1,cr2,cr3,%
      db0,db1,db2,db3,db4,db5,db6,db7,tr0,tr1,tr2,tr3,tr4,tr5,tr6,tr7,%
      st},
   morekeywords=[1]{aaa,aad,aam,aas,adc,add,and,arpl,bound,bsf,bsr,bswap,bt,btc,%
      btr,bts,call,cbw,cdq,clc,cld,cli,clts,cmc,cmp,cmps,cmpsb,cmpsw,%
      cmpsd,cmpxchg,cwd,cwde,daa,das,dec,div,enter,hlt,idiv,imul,in,%
      inc,ins,int,into,invd,invlpg,iret,ja,jae,jb,jbe,jc,jcxz,jecxz,%
      je,jg,jge,jl,jle,jna,jnae,jnb,jnbe,jnc,jne,jng,jnge,jnl,jnle,%
      jno,jnp,jns,jnz,jo,jp,jpe,jpo,js,jz,jmp,lahf,lar,lea,leave,lgdt,%
      lidt,lldt,lmsw,lock,lods,lodsb,lodsw,lodsd,loop,loopz,loopnz,%
      loope,loopne,lds,les,lfs,lgs,lss,lsl,ltr,mov,movs,movsb,movsw,%
      movsd,movsx,movzx,mul,neg,nop,not,or,out,outs,pop,popl,popq,popa,popad,%
      popf,popfd,push,pusha,pushad,pushf,pushfd,rcl,rcr,rep,repe,%
      repne,repz,repnz,ret,retf,rol,ror,sahf,sal,sar,sbb,scas,seta,%
      setae,setb,setbe,setc,sete,setg,setge,setl,setle,setna,setnae,%
      setnb,setnbe,setnc,setne,setng,setnge,setnl,setnle,setno,setnp,%
      setns,setnz,seto,setp,setpe,setpo,sets,setz,sgdt,shl,shld,shr,%
      shrd,sidt,sldt,smsw,stc,std,sti,stos,stosb,stosw,stosd,str,sub,%
      test,testl,testq,verr,verw,wait,wbinvd,xadd,xchg,xlatb,xor,xorl,xorq,fabs,fadd,fbld,%
      fbstp,fchs,fclex,fcom,fcos,fdecstp,fdiv,fdivr,ffree,fiadd,ficom,%
      fidiv,fidivr,fild,fimul,fincstp,finit,fist,fisub,fisubr,fld,fld1,%
      fldl2e,fldl2t,fldlg2,fldln2,fldpi,fldz,fldcw,fldenv,fmul,fnop,%
      fpatan,fprem,fprem1,fptan,frndint,frstor,fsave,fscale,fsetpm,%
      fsin,fsincos,fsqrt,fst,fstcw,fstenv,fstsw,fsub,fsubr,ftst,fucom,%
      fwait,fxam,fxch,fxtract,fyl2x,fyl2xp1,f2xm1},%
   morekeywords=[2]{.align,.alpha,assume,byte,code,comm,comment,.const,%
      .cref,.data,.data?,db,dd,df,dosseg,dq,dt,dw,dword,else,end,endif,%
      endm,endp,ends,eq,equ,.err,.err1,.err2,.errb,.errdef,.errdif,%
      .erre,.erridn,.errnb,.errndef,.errnz,event,exitm,extrn,far,%
      .fardata,.fardata?,function,fword,ge,group,gt,high,if,if1,if2,ifb,ifdef,%
      ifdif,ife,ifidn,ifnb,ifndef,include,includelib,irp,irpc,label,%
      .lall,le,length,.lfcond,.list,local,low,lt,macro,mask,mod,.model,%
      name,ne,near,offset,org,out,page,proc,ptr,public,purge,qword,.%
      radix,record,rept,.sall,seg,segment,.seq,.sfcond,short,size,%
      .stack,struc,subttl,tbyte,.tfcond,this,title,type,.type,width,%
      word,.xall,.xcref,.xlist},%
   alsoletter=.,alsodigit=?,alsodigit=\$,%
   otherkeywords={\%,\$,@},%
   sensitive=f,%
   morestring=[b]",%
   morestring=[b]',%
   morecomment=[l];%
   morecomment=[l]##,%
   }[keywords,comments,strings,emph]

\lstdefinelanguage
   [x86_64]{Assembler}     % add a "x86_64" dialect of Assembler
   [x86]{Assembler}        % based on the "x86" dialect
   % with these extra keywords:
   {morekeywords={cdqe,cqo,cmpsq,cmpxchg16b,jrcxz,lodsq,movsxd, %
                  popfq,pushfq,scasq,stosq,iretq,rdtscp,swapgs, %
                  movl,movq,pushl,pushq,subl,subq,cmpl,cmpq,    %
                  addl,addq,incl,incq,leal,leaq,                %
                  vmovsd, vaddsd, vsubsd, vmulsd, vdivsd,       %
                  vfmadd132sd,vfmadd213sd,vfmadd231sd,          %
                },                                   %
   moreemph=[3]{rax,rdx,rcx,rbx,rsi,rdi,rsp,rbp,rip, %
                r8,r8d,r8w,r8b,r9,r9d,r9w,r9b,       %
                r10,r10d,r10w,r10b,r11,r11d,r11w,r11b,%
                r12,r12d,r12w,r12b,r13,r13d,r13w,r13b,%
                r14,r14d,r14w,r14b,r15,r15d,r15w,r15b,%
      xmm0, xmm1, xmm2, xmm3, xmm4, xmm5, xmm6, xmm7,%
      ymm0, ymm1, ymm2, ymm3, ymm4, ymm5, ymm6, ymm7,%
    }} % etc.


\lstdefinelanguage
   {zAssembler}     % add a s390 dialect of Assembler
   [x86masm]{Assembler} 
   % with these extra keywords:
   {morekeywords={PRINT,GEN,END,LTORG,AMODE,RMODE,USING
                 }}

\lstset{language=zAssembler,
  tabsize=3,
  alsolanguage=rexx,
  keywordstyle=\color{blue},
  commentstyle=\color{nrgrey},
  stringstyle=\color{nrgreen},
  numbers=left,
  numberstyle=\tiny,
  numbersep=5pt,
  numberbychapter=false,
  breaklines=true,
  showstringspaces=false,
  index=[1][keywords],
  columns=fixed,
  basicstyle=\fontsize{9}{9}\fontspec{JuliaMono},emph={label}
}



% MIPS Assembly language definition for the LaTeX `listings' package
%
% The list of instructions and directives are those understood by the
% MARS MIPS Simulator [http://courses.missouristate.edu/KenVollmar/MARS/]
%
% Author: Eric Walkingshaw <eric@walkingshaw.net>
%
% This code is in the public domain.
%
% Here is an example style. I like it for slides, but you might want 
% something a bit less noisy for print. :)
%
% \definecolor{CommentGreen}{rgb}{0,.6,0}
% \lstset{
%   language=[mips]Assembler,
%   escapechar=@, % include LaTeX code between `@' characters
%   keepspaces,   % needed to preserve spacing with lstinline
%   basicstyle=\footnotesize\ttfamily\bfseries,
%   commentstyle=\color{CommentGreen},
%   stringstyle=\color{cyan},
%   showstringspaces=false,
%   keywordstyle=[1]\color{blue},    % instructions
%   keywordstyle=[2]\color{magenta}, % directives
%   keywordstyle=[3]\color{red},     % registers
% }

%% \ProvidesPackage{mips}

%% \RequirePackage{listings}

\lstdefinelanguage[mips]{Assembler}{%
  % so listings can detect directives and register names
  alsoletter={.\$},
  % strings, characters, and comments
  morestring=[b]",
  morestring=[b]',
  morecomment=[l]\#,
  % instructions
  morekeywords={[1]abs,abs.d,abs.s,add,add.d,add.s,addi,addiu,addu,%
    and,andi,b,bc1f,bc1t,beq,beqz,bge,bgeu,bgez,bgezal,bgt,bgtu,%
    bgtz,ble,bleu,blez,blt,bltu,bltz,bltzal,bne,bnez,break,c.eq.d,%
    c.eq.s,c.le.d,c.le.s,c.lt.d,c.lt.s,ceil.w.d,ceil.w.s,clo,clz,%
    cvt.d.s,cvt.d.w,cvt.s.d,cvt.s.w,cvt.w.d,cvt.w.s,div,div.d,div.s,%
    divu,eret,floor.w.d,floor.w.s,j,jal,jalr,jr,l.d,l.s,la,lb,lbu,%
    ld,ldc1,lh,lhu,li,ll,lui,lw,lwc1,lwl,lwr,madd,maddu,mfc0,mfc1,%
    mfc1.d,mfhi,mflo,mov.d,mov.s,move,movf,movf.d,movf.s,movn,movn.d,%
    movn.s,movt,movt.d,movt.s,movz,movz.d,movz.s,msub,msubu,mtc0,mtc1,%
    mtc1.d,mthi,mtlo,mul,mul.d,mul.s,mulo,mulou,mult,multu,mulu,neg,%
    neg.d,neg.s,negu,nop,nor,not,or,ori,rem,remu,rol,ror,round.w.d,%
    round.w.s,s.d,s.s,sb,sc,sd,sdc1,seq,sge,sgeu,sgt,sgtu,sh,sle,%
    sleu,sll,sllv,slt,slti,sltiu,sltu,sne,sqrt.d,sqrt.s,sra,srav,srl,%
    srlv,sub,sub.d,sub.s,subi,subiu,subu,sw,swc1,swl,swr,syscall,teq,%
    teqi,tge,tgei,tgeiu,tgeu,tlt,tlti,tltiu,tltu,tne,tnei,trunc.w.d,%
    trunc.w.s,ulh,ulhu,ulw,ush,usw,xor,xori},
  % assembler directives
  morekeywords={[2].align,.ascii,.asciiz,.byte,.data,.double,.extern,%
    .float,.globl,.half,.kdata,.ktext,.set,.space,.text,.word},
  % register names
  morekeywords={[3]\$0,\$1,\$2,\$3,\$4,\$5,\$6,\$7,\$8,\$9,\$10,\$11,%
    \$12,\$13,\$14,\$15,\$16,\$17,\$18,\$19,\$20,\$21,\$22,\$23,\$24,%
    \$25,\$26,\$27,\$28,\$29,\$30,\$31,%
    \$zero,\$at,\$v0,\$v1,\$a0,\$a1,\$a2,\$a3,\$t0,\$t1,\$t2,\$t3,\$t4,
    \$t5,\$t6,\$t7,\$s0,\$s1,\$s2,\$s3,\$s4,\$s5,\$s6,\$s7,\$t8,\$t9,%
    \$k0,\$k1,\$gp,\$sp,\$fp,\$ra},
}[strings,comments,keywords]

\lstdefinelanguage{ini}{
  morecomment=[l]\#,
  morecomment=[l]\;,
  morestring=[b]",
  moredelim=[s][\bfseries\color{blue}]{[}{]},
  alsoletter={=},
  morekeywords={true,false,on,off,yes,no},
  keywordstyle=\color{purple}\bfseries,
}

\lstdefinestyle{iniStyle}{
  language=ini,
  basicstyle=\ttfamily\small,
  commentstyle=\color{gray}\itshape,
  stringstyle=\color{green!50!black},
  showstringspaces=false,
  breaklines=true
}
